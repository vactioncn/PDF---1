# 🚀 快速配置清单（5分钟完成）

## 你需要做的事情（按顺序）

### ✅ 第一步：创建 MySQL 数据库（2分钟）

1. 打开：https://tcb.cloud.tencent.com/dev?envId=aireadbook001-7g3su3oo81a89e2e
2. 左侧菜单 → **数据库** → **MySQL** → **新建数据库**
3. 填写：
   - 数据库名：`pdf_app_db`
   - 密码：设置一个密码（记住它！）
4. 点击 **确定**
5. 创建完成后，点击数据库名称，记录：
   - **内网地址**（例如：10.0.0.1）
   - **端口**（通常是 3306）
   - **数据库名**（你填写的名称）
   - **用户名**（通常是 root）
   - **密码**（你设置的密码）

### ✅ 第二步：配置环境变量（3分钟）

1. 在同一个控制台，左侧菜单 → **云托管** → **pdf-service**
2. 点击 **环境变量** 标签
3. 点击 **新增环境变量**，添加以下变量：

#### 变量 1：数据库连接（必需）
- **变量名**：`DATABASE_URL`
- **变量值**：`mysql+pymysql://root:你的密码@内网地址:3306/数据库名?charset=utf8mb4`
  - 示例：`mysql+pymysql://root:mypassword@10.0.0.1:3306/pdf_app_db?charset=utf8mb4`
  - ⚠️ 把"你的密码"、"内网地址"、"数据库名"替换成第一步记录的实际值

#### 变量 2：豆包 API 密钥（必需）
- **变量名**：`DOUBAO_API_KEY`
- **变量值**：你的豆包 API 密钥
  - 如果没有，去 https://console.volcengine.com/ark 申请

#### 变量 3：豆包 API 地址（可选）
- **变量名**：`DOUBAO_API_BASE`
- **变量值**：`https://ark.cn-beijing.volces.com/api/v3`

4. 添加完所有变量后，点击 **保存**
5. 等待 1-2 分钟，服务会自动重启

### ✅ 第三步：验证（1分钟）

1. 在 **云托管** → **pdf-service** 页面
2. 查看 **运行状态**，应该是 `正常`
3. 点击 **访问地址**，打开你的应用
4. 如果能看到页面，说明配置成功！

---

## 🎯 完成后的效果

- ✅ 数据存储在云数据库（不会丢失）
- ✅ 应用运行在云容器（自动扩缩容）
- ✅ 前端部署在云 CDN（全球加速）
- ✅ 所有配置统一管理（安全可靠）

---

## ❓ 遇到问题？

### 问题 1：找不到"数据库"菜单
- 确保你的环境已开通按量付费（之前已经开通了）

### 问题 2：数据库连接失败
- 检查 `DATABASE_URL` 中的密码、地址是否正确
- 确保使用**内网地址**，不是公网地址

### 问题 3：API 调用失败
- 检查 `DOUBAO_API_KEY` 是否正确
- 在控制台的 **日志** 中查看详细错误

### 问题 4：服务无法启动
- 查看 **日志** 标签中的错误信息
- 检查环境变量格式是否正确

---

## 📞 需要帮助？

如果按照以上步骤操作后仍有问题，告诉我：
1. 你在哪一步卡住了
2. 看到了什么错误信息
3. 我会继续帮你解决

